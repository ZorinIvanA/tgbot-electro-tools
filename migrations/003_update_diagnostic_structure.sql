-- 003_update_diagnostic_structure.sql
-- Update diagnostic structure with multi-level interactive diagnostics

-- Add display_name column to scenarios if not exists
ALTER TABLE fsm_scenarios ADD COLUMN IF NOT EXISTS display_name TEXT;

-- Clear existing data to rebuild with new interactive structure
TRUNCATE TABLE user_sessions CASCADE;
TRUNCATE TABLE fsm_steps CASCADE;
TRUNCATE TABLE fsm_scenarios CASCADE;

-- Reset sequences
ALTER SEQUENCE fsm_scenarios_id_seq RESTART WITH 1;
ALTER SEQUENCE fsm_steps_id_seq RESTART WITH 1;

-- Insert updated scenarios with Russian display names
INSERT INTO fsm_scenarios (name, display_name, trigger_keywords, description) VALUES
('diagnose_angle_grinder', '–£–≥–ª–æ–≤–∞—è —à–ª–∏—Ñ–æ–≤–∞–ª—å–Ω–∞—è –º–∞—à–∏–Ω–∞', ARRAY['—É–≥–ª–æ–≤–∞—è —à–ª–∏—Ñ–æ–≤–∞–ª—å–Ω–∞—è –º–∞—à–∏–Ω–∞', '–±–æ–ª–≥–∞—Ä–∫–∞', '—É—à–º', 'angle grinder'], '–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ —É–≥–ª–æ–≤–æ–π —à–ª–∏—Ñ–æ–≤–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω—ã'),
('diagnose_miter_saw', '–¢–æ—Ä—Ü–æ–≤–æ—á–Ω–∞—è –ø–∏–ª–∞', ARRAY['—Ç–æ—Ä—Ü–æ–≤–æ—á–Ω–∞—è –ø–∏–ª–∞', '—Ç–æ—Ä—Ü–æ–≤–∫–∞', 'miter saw'], '–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ —Ç–æ—Ä—Ü–æ–≤–æ—á–Ω–æ–π –ø–∏–ª—ã'),
('diagnose_jigsaw', '–≠–ª–µ–∫—Ç—Ä–æ–ª–æ–±–∑–∏–∫', ARRAY['—ç–ª–µ–∫—Ç—Ä–æ–ª–æ–±–∑–∏–∫', '–ª–æ–±–∑–∏–∫', 'jigsaw'], '–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ —ç–ª–µ–∫—Ç—Ä–æ–ª–æ–±–∑–∏–∫–∞'),
('diagnose_cordless_drill', '–ê–∫–∫—É–º—É–ª—è—Ç–æ—Ä–Ω—ã–π —à—É—Ä—É–ø–æ–≤—ë—Ä—Ç', ARRAY['–∞–∫–∫—É–º—É–ª—è—Ç–æ—Ä–Ω—ã–π —à—É—Ä—É–ø–æ–≤—ë—Ä—Ç', '—à—É—Ä—É–ø–æ–≤—ë—Ä—Ç', 'cordless screwdriver'], '–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –∞–∫–∫—É–º—É–ª—è—Ç–æ—Ä–Ω–æ–≥–æ —à—É—Ä—É–ø–æ–≤—ë—Ä—Ç–∞'),
('diagnose_corded_lawnmower', '–ü—Ä–æ–≤–æ–¥–Ω–∞—è (—Å–µ—Ç–µ–≤–∞—è) –≥–∞–∑–æ–Ω–æ–∫–æ—Å–∏–ª–∫–∞', ARRAY['–ø—Ä–æ–≤–æ–¥–Ω–∞—è –≥–∞–∑–æ–Ω–æ–∫–æ—Å–∏–ª–∫–∞', '–≥–∞–∑–æ–Ω–æ–∫–æ—Å–∏–ª–∫–∞', 'lawn mower'], '–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–≤–æ–¥–Ω–æ–π –≥–∞–∑–æ–Ω–æ–∫–æ—Å–∏–ª–∫–∏');

-- Insert interactive diagnostic steps for angle grinder
INSERT INTO fsm_steps (scenario_id, step_key, message, is_final, next_step_key) VALUES
-- Root state: problem selection
(1, 'root', '–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ —É–≥–ª–æ–≤–æ–π —à–ª–∏—Ñ–æ–≤–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω—ã. –í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–±–ª–µ–º—É:', false, NULL),

-- Problem: not turning on
(1, 'no_power', '–£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –Ω–µ –≤–∫–ª—é—á–∞–µ—Ç—Å—è.

–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã –∏ —Ä–µ—à–µ–Ω–∏—è:

üîã –ê–∫–∫—É–º—É–ª—è—Ç–æ—Ä —Ä–∞–∑—Ä—è–∂–µ–Ω
‚Ä¢ –ü–æ–¥–∫–ª—é—á–∏—Ç–µ –∑–∞—Ä—è–¥–Ω–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –∫ –∞–∫–∫—É–º—É–ª—è—Ç–æ—Ä—É
‚Ä¢ –î–æ–∂–¥–∏—Ç–µ—Å—å –ø–æ–ª–Ω–æ–π –∑–∞—Ä—è–¥–∫–∏ (1-2 —á–∞—Å–∞)
‚Ä¢ –ï—Å–ª–∏ –Ω–µ –∑–∞—Ä—è–∂–∞–µ—Ç—Å—è - –∑–∞–º–µ–Ω–∏—Ç–µ –∞–∫–∫—É–º—É–ª—è—Ç–æ—Ä

üîò –ù–µ–∏—Å–ø—Ä–∞–≤–Ω–∞ –∫–Ω–æ–ø–∫–∞ –ø—É—Å–∫–∞
‚Ä¢ –†–∞–∑–±–µ—Ä–∏—Ç–µ –∫–æ—Ä–ø—É—Å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞
‚Ä¢ –ó–∞—á–∏—Å—Ç–∏—Ç–µ –∫–æ–Ω—Ç–∞–∫—Ç—ã –∫–Ω–æ–ø–∫–∏ –æ—Ç –ø—ã–ª–∏ –∏ –æ–∫–∏—Å–ª–µ–Ω–∏—è
‚Ä¢ –ï—Å–ª–∏ –∫–æ–Ω—Ç–∞–∫—Ç—ã –ø–æ–≤—Ä–µ–∂–¥–µ–Ω—ã - –∑–∞–º–µ–Ω–∏—Ç–µ –∫–Ω–æ–ø–∫—É

üîå –û–±—Ä—ã–≤ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π –ø—Ä–æ–≤–æ–¥–∫–∏
‚Ä¢ –†–∞–∑–±–µ—Ä–∏—Ç–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –∏ –Ω–∞–π–¥–∏—Ç–µ –º–µ—Å—Ç–æ –æ–±—Ä—ã–≤–∞
‚Ä¢ –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–∞–π–∫—É –∏–ª–∏ –∑–∞–º–µ–Ω–∏—Ç–µ –ø—Ä–æ–≤–æ–¥
‚Ä¢ –ò–∑–æ–ª–∏—Ä—É–π—Ç–µ –≤—Å–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è

‚öôÔ∏è –°–≥–æ—Ä–µ–ª –¥–≤–∏–≥–∞—Ç–µ–ª—å
‚Ä¢ –í —ç—Ç–æ–º —Å–ª—É—á–∞–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π —Ä–µ–º–æ–Ω—Ç
‚Ä¢ –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º –æ–±—Ä–∞—Ç–∏—Ç—å—Å—è –≤ —Å–µ—Ä–≤–∏—Å–Ω—ã–π —Ü–µ–Ω—Ç—Ä', true, NULL),

-- Diagnostic branch: indicator check
(1, 'no_power_indicator_lit', '–ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –≥–æ—Ä–∏—Ç. –¢–µ–ø–µ—Ä—å –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–Ω–æ–ø–∫—É –ø—É—Å–∫–∞.

–ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É –ø—É—Å–∫–∞. –ï—Å—Ç—å –ª–∏ –∫–∞–∫–∞—è-–ª–∏–±–æ —Ä–µ–∞–∫—Ü–∏—è –Ω–∞ –Ω–∞–∂–∞—Ç–∏–µ (–∑–≤—É–∫, –≤–∏–±—Ä–∞—Ü–∏—è)?', false, NULL),

(1, 'no_power_indicator_lit_reacts', '–ï—Å—Ç—å —Ä–µ–∞–∫—Ü–∏—è –Ω–∞ –∫–Ω–æ–ø–∫—É. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–µ–¥–æ—Ö—Ä–∞–Ω–∏—Ç–µ–ª—å —à–ø–∏–Ω–¥–µ–ª—è.

–ü–æ–≤–æ—Ä–∞—á–∏–≤–∞–µ—Ç—Å—è –ª–∏ –¥–∏—Å–∫ –≤—Ä—É—á–Ω—É—é –ø—Ä–∏ –æ—Ç–∂–∞—Ç–æ–π –∑–∞—â–∏—Ç–µ —à–ø–∏–Ω–¥–µ–ª—è?', false, NULL),

(1, 'no_power_indicator_lit_reacts_disk_turns', '–î–∏—Å–∫ –≤—Ä–∞—â–∞–µ—Ç—Å—è. –í–æ–∑–º–æ–∂–Ω–æ, —Å—Ä–∞–±–æ—Ç–∞–ª–∞ –∑–∞—â–∏—Ç–∞ –æ—Ç –ø–µ—Ä–µ–≥—Ä–µ–≤–∞.

–î–∞–π—Ç–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤—É –æ—Å—Ç—ã—Ç—å 15-30 –º–∏–Ω—É—Ç –∏ –ø–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞.', true, NULL),

(1, 'no_power_indicator_lit_reacts_disk_stuck', '–î–∏—Å–∫ –Ω–µ –≤—Ä–∞—â–∞–µ—Ç—Å—è. –í–æ–∑–º–æ–∂–Ω–æ, –º–µ—Ö–∞–Ω–∏—á–µ—Å–∫–æ–µ –∑–∞–∫–ª–∏–Ω–∏–≤–∞–Ω–∏–µ.

–†–∞–∑–±–µ—Ä–∏—Ç–µ –∏ –æ—Å–º–æ—Ç—Ä–∏—Ç–µ —Ä–µ–¥—É–∫—Ç–æ—Ä. –ó–∞–º–µ–Ω–∏—Ç–µ –ø–æ–≤—Ä–µ–∂–¥—ë–Ω–Ω—ã–µ —à–µ—Å—Ç–µ—Ä–Ω–∏.', true, NULL),

(1, 'no_power_indicator_lit_no_reaction', '–ù–µ—Ç —Ä–µ–∞–∫—Ü–∏–∏ –Ω–∞ –∫–Ω–æ–ø–∫—É. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–Ω–æ–ø–∫—É –ø—É—Å–∫–∞.

–†–∞–∑–±–µ—Ä–∏—Ç–µ –∏ –æ—Å–º–æ—Ç—Ä–∏—Ç–µ –∫–Ω–æ–ø–∫—É. –ó–∞—á–∏—Å—Ç–∏—Ç–µ –∫–æ–Ω—Ç–∞–∫—Ç—ã –∏–ª–∏ –∑–∞–º–µ–Ω–∏—Ç–µ –∫–Ω–æ–ø–∫—É.', true, NULL),

(1, 'no_power_indicator_dark', '–ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –Ω–µ –≥–æ—Ä–∏—Ç. –ê–∫–∫—É–º—É–ª—è—Ç–æ—Ä —Ä–∞–∑—Ä—è–∂–µ–Ω.

–ü–æ–¥–∫–ª—é—á–∏—Ç–µ –∑–∞—Ä—è–¥–Ω–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –∏ –∑–∞—Ä—è–¥–∏—Ç–µ –∞–∫–∫—É–º—É–ª—è—Ç–æ—Ä –ø–æ–ª–Ω–æ—Å—Ç—å—é (1-2 —á–∞—Å–∞).', true, NULL),

-- Problem: stops during operation
(1, 'stops_during_work', '–£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –≤–æ –≤—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã.

–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã –∏ —Ä–µ—à–µ–Ω–∏—è:

üîã –†–∞–∑—Ä—è–¥ –∞–∫–∫—É–º—É–ª—è—Ç–æ—Ä–∞
‚Ä¢ –ê–∫–∫—É–º—É–ª—è—Ç–æ—Ä –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–∑—Ä—è–∂–µ–Ω –≤–æ –≤—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã
‚Ä¢ –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –∑–∞—Ä—è–∂–µ–Ω–Ω—ã–π –∞–∫–∫—É–º—É–ª—è—Ç–æ—Ä
‚Ä¢ –ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ –ø–æ–≤—Ç–æ—Ä—è–µ—Ç—Å—è - –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –∞–∫–∫—É–º—É–ª—è—Ç–æ—Ä –Ω–∞ –∏–∑–Ω–æ—Å

üî• –ü–µ—Ä–µ–≥—Ä–µ–≤ –¥–≤–∏–≥–∞—Ç–µ–ª—è
‚Ä¢ –°—Ä–∞–±–æ—Ç–∞–ª–∞ –∑–∞—â–∏—Ç–∞ –æ—Ç –ø–µ—Ä–µ–≥—Ä–µ–≤–∞
‚Ä¢ –î–∞–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—É –æ—Å—Ç—ã—Ç—å 15-30 –º–∏–Ω—É—Ç
‚Ä¢ –†–∞–±–æ—Ç–∞–π—Ç–µ —Å –ø–µ—Ä–µ—Ä—ã–≤–∞–º–∏, –∏–∑–±–µ–≥–∞–π—Ç–µ –¥–ª–∏—Ç–µ–ª—å–Ω–æ–π –Ω–∞–≥—Ä—É–∑–∫–∏

‚öôÔ∏è –ú–µ—Ö–∞–Ω–∏—á–µ—Å–∫–æ–µ –∑–∞–∫–ª–∏–Ω–∏–≤–∞–Ω–∏–µ
‚Ä¢ –ò–Ω–æ—Ä–æ–¥–Ω—ã–π –ø—Ä–µ–¥–º–µ—Ç –∏–ª–∏ –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–∏–µ –≤ —Ä–µ–¥—É–∫—Ç–æ—Ä–µ
‚Ä¢ –†–∞–∑–±–µ—Ä–∏—Ç–µ –∏ –æ—á–∏—Å—Ç–∏—Ç–µ —Ä–µ–¥—É–∫—Ç–æ—Ä
‚Ä¢ –ó–∞–º–µ–Ω–∏—Ç–µ –ø–æ–≤—Ä–µ–∂–¥—ë–Ω–Ω—ã–µ –¥–µ—Ç–∞–ª–∏

üñäÔ∏è –ò–∑–Ω–æ—Å —É–≥–æ–ª—å–Ω—ã—Ö —â—ë—Ç–æ–∫
‚Ä¢ –©—ë—Ç–∫–∏ —Å—Ç—ë—Ä–ª–∏—Å—å (–º–µ–Ω–µ–µ 5–º–º)
‚Ä¢ –ó–∞–º–µ–Ω–∏—Ç–µ —â—ë—Ç–∫–∏ –Ω–∞ –Ω–æ–≤—ã–µ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–µ
‚Ä¢ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–ª–ª–µ–∫—Ç–æ—Ä –¥–≤–∏–≥–∞—Ç–µ–ª—è

üîå –ù–µ–∏—Å–ø—Ä–∞–≤–Ω–æ—Å—Ç—å —ç–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∏
‚Ä¢ –ü–æ–≤—Ä–µ–∂–¥–µ–Ω–∏–µ –ø–ª–∞—Ç—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
‚Ä¢ –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞', true, NULL),

(1, 'stops_immediately', '–û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è —Å—Ä–∞–∑—É. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –∞–∫–∫—É–º—É–ª—è—Ç–æ—Ä–∞.

–°–Ω–∏–º–∏—Ç–µ –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∞–∫–∫—É–º—É–ª—è—Ç–æ—Ä –∑–∞–Ω–æ–≤–æ. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Ç–∞–∫—Ç—ã –Ω–∞ –æ–∫–∏—Å–ª–µ–Ω–∏–µ.', true, NULL),

(1, 'stops_after_time', '–û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ –≤—Ä–µ–º—è. –í–æ–∑–º–æ–∂–Ω–æ, –ø–µ—Ä–µ–≥—Ä–µ–≤ –∏–ª–∏ —Ä–∞–∑—Ä—è–¥.

–í–æ –≤—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã —á—É–≤—Å—Ç–≤—É–µ—Ç–µ –ª–∏ –≤—ã –Ω–∞–≥—Ä–µ–≤ –∫–æ—Ä–ø—É—Å–∞?', false, NULL),

(1, 'stops_after_time_hot', '–ö–æ—Ä–ø—É—Å –≥–æ—Ä—è—á–∏–π. –°—Ä–∞–±–æ—Ç–∞–ª–∞ —Ç–µ—Ä–º–æ–∑–∞—â–∏—Ç–∞.

–î–∞–π—Ç–µ –æ—Å—Ç—ã—Ç—å 15-30 –º–∏–Ω—É—Ç. –†–∞–±–æ—Ç–∞–π—Ç–µ —Å –ø–µ—Ä–µ—Ä—ã–≤–∞–º–∏, –Ω–µ –ø–µ—Ä–µ–≥—Ä—É–∂–∞–π—Ç–µ.', true, NULL),

(1, 'stops_after_time_not_hot', '–ö–æ—Ä–ø—É—Å –Ω–µ —Å–∏–ª—å–Ω–æ –Ω–∞–≥—Ä–µ–≤–∞–µ—Ç—Å—è. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∞–∫–∫—É–º—É–ª—è—Ç–æ—Ä.

–ê–∫–∫—É–º—É–ª—è—Ç–æ—Ä –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ–∏—Å–ø—Ä–∞–≤–µ–Ω. –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –∑–∞—Ä—è–∂–µ–Ω–Ω—ã–π.', true, NULL),

-- Problem: vibration or unusual noise
(1, 'vibration_noise', '–í–∏–±—Ä–∞—Ü–∏—è –∏–ª–∏ –Ω–µ–æ–±—ã—á–Ω—ã–π —à—É–º.

–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã –∏ —Ä–µ—à–µ–Ω–∏—è:

‚öôÔ∏è –î–∏—Å–∫ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
‚Ä¢ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –¥–∏—Å–∫–∞
‚Ä¢ –ü–æ–¥—Ç—è–Ω–∏—Ç–µ –∑–∞–∂–∏–º–Ω—É—é –≥–∞–π–∫—É —Å –Ω—É–∂–Ω—ã–º –º–æ–º–µ–Ω—Ç–æ–º
‚Ä¢ –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –¥–∏—Å–∫ —Å–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω

üñäÔ∏è –ò–∑–Ω–æ—Å —â—ë—Ç–æ–∫
‚Ä¢ –©—ë—Ç–∫–∏ —Å—Ç—ë—Ä–ª–∏—Å—å (–º–µ–Ω–µ–µ 5–º–º)
‚Ä¢ –ó–∞–º–µ–Ω–∏—Ç–µ —â—ë—Ç–∫–∏ –Ω–∞ –Ω–æ–≤—ã–µ
‚Ä¢ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–ª–ª–µ–∫—Ç–æ—Ä –Ω–∞ –∏–∑–Ω–æ—Å

‚öôÔ∏è –ü–æ–≤—Ä–µ–∂–¥–µ–Ω–∏–µ –ø–æ–¥—à–∏–ø–Ω–∏–∫–æ–≤
‚Ä¢ –ü–æ–¥—à–∏–ø–Ω–∏–∫–∏ –∏–∑–Ω–æ—à–µ–Ω—ã –∏–ª–∏ –ø–æ–≤—Ä–µ–∂–¥–µ–Ω—ã
‚Ä¢ –ó–∞–º–µ–Ω–∏—Ç–µ –ø–æ–¥—à–∏–ø–Ω–∏–∫–∏ —Ä–µ–¥—É–∫—Ç–æ—Ä–∞
‚Ä¢ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–º–∞–∑–∫—É

üîß –ü—Ä–æ–±–ª–µ–º—ã —Å —Ä–µ–¥—É–∫—Ç–æ—Ä–æ–º
‚Ä¢ –ò–∑–Ω–æ—Å —à–µ—Å—Ç–µ—Ä—ë–Ω –∏–ª–∏ –∑—É–±—á–∞—Ç–æ–π –ø–µ—Ä–µ–¥–∞—á–∏
‚Ä¢ –û—Å–º–æ—Ç—Ä–∏—Ç–µ —Ä–µ–¥—É–∫—Ç–æ—Ä –Ω–∞ –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–∏—è
‚Ä¢ –ó–∞–º–µ–Ω–∏—Ç–µ –ø–æ–≤—Ä–µ–∂–¥—ë–Ω–Ω—ã–µ –¥–µ—Ç–∞–ª–∏', true, NULL),

(1, 'strong_vibration', '–°–∏–ª—å–Ω–∞—è –≤–∏–±—Ä–∞—Ü–∏—è. –û—Å–º–æ—Ç—Ä–∏—Ç–µ –¥–∏—Å–∫ –∏ –∑–∞–∂–∏–º.

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –¥–∏—Å–∫–∞. –ü–æ–¥—Ç—è–Ω–∏—Ç–µ –∑–∞–∂–∏–º–Ω—É—é –≥–∞–π–∫—É.', true, NULL),

(1, 'grinding_noise', '–°–∫—Ä–µ–∂–µ—Ç. –í–æ–∑–º–æ–∂–Ω–æ, –∏–∑–Ω–æ—Å —â—ë—Ç–æ–∫ –∏–ª–∏ –ø–æ–¥—à–∏–ø–Ω–∏–∫–æ–≤.

–†–∞–∑–±–µ—Ä–∏—Ç–µ –∏ –æ—Å–º–æ—Ç—Ä–∏—Ç–µ —â—ë—Ç–∫–∏. –ó–∞–º–µ–Ω–∏—Ç–µ –∏–∑–Ω–æ—à–µ–Ω–Ω—ã–µ (–º–µ–Ω–µ–µ 5–º–º).', true, NULL),

(1, 'other_noise', '–î—Ä—É–≥–æ–π —à—É–º. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–µ–¥—É–∫—Ç–æ—Ä.

–û—Å–º–æ—Ç—Ä–∏—Ç–µ —à–µ—Å—Ç–µ—Ä–Ω–∏ —Ä–µ–¥—É–∫—Ç–æ—Ä–∞. –ó–∞–º–µ–Ω–∏—Ç–µ –ø–æ–≤—Ä–µ–∂–¥—ë–Ω–Ω—ã–µ –¥–µ—Ç–∞–ª–∏.', true, NULL);

-- Insert interactive diagnostic steps for miter saw
INSERT INTO fsm_steps (scenario_id, step_key, message, is_final, next_step_key) VALUES
-- Root state
(2, 'root', '–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ —Ç–æ—Ä—Ü–æ–≤–æ—á–Ω–æ–π –ø–∏–ª—ã. –í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–±–ª–µ–º—É:', false, NULL),

-- Problem: not turning on
(2, 'no_power', '–£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –Ω–µ –≤–∫–ª—é—á–∞–µ—Ç—Å—è.

–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã –∏ —Ä–µ—à–µ–Ω–∏—è:

üîå –ü—Ä–æ–±–ª–µ–º–∞ —Å –ø–∏—Ç–∞–Ω–∏–µ–º
‚Ä¢ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–æ–∑–µ—Ç–∫—É –¥—Ä—É–≥–∏–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ–º
‚Ä¢ –û—Å–º–æ—Ç—Ä–∏—Ç–µ —Å–µ—Ç–µ–≤–æ–π –∫–∞–±–µ–ª—å –Ω–∞ –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–∏—è
‚Ä¢ –ó–∞–º–µ–Ω–∏—Ç–µ –ø–æ–≤—Ä–µ–∂–¥—ë–Ω–Ω—ã–π –∫–∞–±–µ–ª—å

üîí –ê–∫—Ç–∏–≤–Ω—ã –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
‚Ä¢ –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∑–∞—â–∏—Ç–Ω—ã–π –∫–æ–∂—É—Ö –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ–ø—É—â–µ–Ω
‚Ä¢ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–∏–∫—Å–∞—Ü–∏—é —Ä—É–∫–æ—è—Ç–∫–∏
‚Ä¢ –ö–Ω–æ–ø–∫–∞ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ —à–ø–∏–Ω–¥–µ–ª—è –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –æ—Ç–∂–∞—Ç–∞

‚ö° –°—Ä–∞–±–æ—Ç–∞–ª –ø—Ä–µ–¥–æ—Ö—Ä–∞–Ω–∏—Ç–µ–ª—å
‚Ä¢ –ù–∞–π–¥–∏—Ç–µ –∫—Ä–∞—Å–Ω—É—é –∫–Ω–æ–ø–∫—É –ø—Ä–µ–¥–æ—Ö—Ä–∞–Ω–∏—Ç–µ–ª—è
‚Ä¢ –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É —Å–±—Ä–æ—Å–∞ –ø—Ä–µ–¥–æ—Ö—Ä–∞–Ω–∏—Ç–µ–ª—è
‚Ä¢ –ï—Å–ª–∏ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –ø–æ–≤—Ç–æ—Ä–Ω–æ - –æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å –≤ —Å–µ—Ä–≤–∏—Å

‚öôÔ∏è –ù–µ–∏—Å–ø—Ä–∞–≤–Ω–æ—Å—Ç—å –¥–≤–∏–≥–∞—Ç–µ–ª—è –∏–ª–∏ —ç–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∏
‚Ä¢ –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞', true, NULL),

(2, 'no_power_power_ok', '–ü–∏—Ç–∞–Ω–∏–µ –≤ –ø–æ—Ä—è–¥–∫–µ. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –±–ª–æ–∫–∏—Ä–æ–≤–∫—É –ø—É—Å–∫–∞.

–ó–∞—â–∏—Ç–Ω—ã–π –∫–æ–∂—É—Ö –æ–ø—É—â–µ–Ω? –†—É—á–∫–∞ –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–∞? –ö–Ω–æ–ø–∫–∞ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –æ—Ç–∂–∞—Ç–∞?', false, NULL),

(2, 'no_power_power_ok_locks_ok', '–ë–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –≤ –ø–æ—Ä—è–¥–∫–µ. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–µ–¥–æ—Ö—Ä–∞–Ω–∏—Ç–µ–ª—å.

–ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É —Å–±—Ä–æ—Å–∞ –ø—Ä–µ–¥–æ—Ö—Ä–∞–Ω–∏—Ç–µ–ª—è (–æ–±—ã—á–Ω–æ –∫—Ä–∞—Å–Ω–∞—è –∫–Ω–æ–ø–∫–∞).', true, NULL),

(2, 'no_power_power_ok_locks_not_ok', '–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ:

‚Ä¢ –ó–∞—â–∏—Ç–Ω—ã–π –∫–æ–∂—É—Ö –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ–ø—É—â–µ–Ω
‚Ä¢ –†—É–∫–æ—è—Ç–∫–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–∞
‚Ä¢ –ù–µ—Ç –∞–∫—Ç–∏–≤–Ω—ã—Ö –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏', true, NULL),

(2, 'no_power_no_power', '–ü—Ä–æ–±–ª–µ–º–∞ —Å –ø–∏—Ç–∞–Ω–∏–µ–º.

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–æ–∑–µ—Ç–∫—É –¥—Ä—É–≥–∏–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ–º. –û—Å–º–æ—Ç—Ä–∏—Ç–µ —à–Ω—É—Ä –Ω–∞ –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–∏—è.', true, NULL),

-- Problem: motor runs but blade doesn't spin
(2, 'motor_runs_no_blade', '–ú–æ—Ç–æ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ –¥–∏—Å–∫ –Ω–µ –≤—Ä–∞—â–∞–µ—Ç—Å—è.

–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã –∏ —Ä–µ—à–µ–Ω–∏—è:

üîß –ü–æ–≤—Ä–µ–∂–¥—ë–Ω —Ä–µ–º–µ–Ω—å –ø—Ä–∏–≤–æ–¥–∞
‚Ä¢ –û—Å–º–æ—Ç—Ä–∏—Ç–µ —Ä–µ–º–µ–Ω—å –Ω–∞ –Ω–∞–ª–∏—á–∏–µ —Ç—Ä–µ—â–∏–Ω –∏–ª–∏ —Ä–∞–∑—Ä—ã–≤–æ–≤
‚Ä¢ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –Ω–∞—Ç—è–∂–µ–Ω–∏—è —Ä–µ–º–Ω—è
‚Ä¢ –ó–∞–º–µ–Ω–∏—Ç–µ –ø–æ–≤—Ä–µ–∂–¥—ë–Ω–Ω—ã–π —Ä–µ–º–µ–Ω—å –Ω–∞ –Ω–æ–≤—ã–π

‚öôÔ∏è –ó–∞–∫–ª–∏–Ω–∏–≤–∞–Ω–∏–µ —à–ø–∏–Ω–¥–µ–ª—è
‚Ä¢ –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø—Ä–æ–≤–µ—Ä–Ω—É—Ç—å –¥–∏—Å–∫ –≤—Ä—É—á–Ω—É—é
‚Ä¢ –û—Å–º–æ—Ç—Ä–∏—Ç–µ –ø–æ–¥—à–∏–ø–Ω–∏–∫–∏ —à–ø–∏–Ω–¥–µ–ª—è
‚Ä¢ –û—á–∏—Å—Ç–∏—Ç–µ –æ—Ç —Å—Ç—Ä—É–∂–∫–∏ –∏ –æ–ø–∏–ª–æ–∫

üî© –ü—Ä–æ–±–ª–µ–º–∞ —Å –Ω–∞—Ç—è–∂–∏—Ç–µ–ª–µ–º —Ä–µ–º–Ω—è
‚Ä¢ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –º–µ—Ö–∞–Ω–∏–∑–º –Ω–∞—Ç—è–∂–µ–Ω–∏—è —Ä–µ–º–Ω—è
‚Ä¢ –û—Ç—Ä–µ–≥—É–ª–∏—Ä—É–π—Ç–µ –Ω–∞—Ç—è–∂–µ–Ω–∏–µ —Ä–µ–º–Ω—è
‚Ä¢ –ó–∞–º–µ–Ω–∏—Ç–µ —Å–ª–æ–º–∞–Ω–Ω—ã–π –º–µ—Ö–∞–Ω–∏–∑–º', true, NULL),

(2, 'motor_runs_no_blade_belt_ok', '–†–µ–º–µ–Ω—å –≤ –ø–æ—Ä—è–¥–∫–µ. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —à–ø–∏–Ω–¥–µ–ª—å.

–û—Å–º–æ—Ç—Ä–∏—Ç–µ —à–ø–∏–Ω–¥–µ–ª—å –Ω–∞ –∑–∞–∫–ª–∏–Ω–∏–≤–∞–Ω–∏–µ. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥—à–∏–ø–Ω–∏–∫–∏.', true, NULL),

(2, 'motor_runs_no_blade_belt_broken', '–†–µ–º–µ–Ω—å –ø–æ–≤—Ä–µ–∂–¥—ë–Ω.

–ó–∞–º–µ–Ω–∏—Ç–µ —Ä–µ–º–µ–Ω—å –ø—Ä–∏–≤–æ–¥–∞. –£–±–µ–¥–∏—Ç–µ—Å—å –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º —Ä–∞–∑–º–µ—Ä–µ –∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ.', true, NULL),

-- Problem: vibration or inaccurate cut
(2, 'vibration_inaccurate', '–í–∏–±—Ä–∞—Ü–∏—è –∏–ª–∏ –Ω–µ—Ç–æ—á–Ω—ã–π —Ä–µ–∑.

–î–∏—Å–∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω? –ì–∞–π–∫–∞ –∑–∞—Ç—è–Ω—É—Ç–∞? –î–∏—Å–∫ —Ü–µ–ª—ã–π?', false, NULL),

(2, 'vibration_inaccurate_disk_ok', '–î–∏—Å–∫ –≤ –ø–æ—Ä—è–¥–∫–µ. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ—Å—Ç—å.

–û—Å–º–æ—Ç—Ä–∏—Ç–µ –Ω–∞–ø—Ä–∞–≤–ª—è—é—â–∏–µ. –û—Ç—Ä–µ–≥—É–ª–∏—Ä—É–π—Ç–µ –ø–æ–ª–æ–∂–µ–Ω–∏–µ –¥–∏—Å–∫–∞.', true, NULL),

(2, 'vibration_inaccurate_disk_problem', '–ü—Ä–æ–±–ª–µ–º–∞ —Å –¥–∏—Å–∫–æ–º.

–ü–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –¥–∏—Å–∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ. –ó–∞–º–µ–Ω–∏—Ç–µ –ø–æ–≤—Ä–µ–∂–¥—ë–Ω–Ω—ã–π –¥–∏—Å–∫.', true, NULL);

-- Insert interactive diagnostic steps for jigsaw
INSERT INTO fsm_steps (scenario_id, step_key, message, is_final, next_step_key) VALUES
-- Root state
(3, 'root', '–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ —ç–ª–µ–∫—Ç—Ä–æ–ª–æ–±–∑–∏–∫–∞. –í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–±–ª–µ–º—É:', false, NULL),

-- Problem: not turning on
(3, 'no_power', '–£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –Ω–µ –≤–∫–ª—é—á–∞–µ—Ç—Å—è.

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–µ—Ç–∏. –†–æ–∑–µ—Ç–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç?', false, NULL),

(3, 'no_power_power_ok', '–ü–∏—Ç–∞–Ω–∏–µ –≤ –ø–æ—Ä—è–¥–∫–µ. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–Ω–æ–ø–∫—É –ø—É—Å–∫–∞.

–†–∞–∑–±–µ—Ä–∏—Ç–µ –∏ –æ—Å–º–æ—Ç—Ä–∏—Ç–µ –∫–Ω–æ–ø–∫—É. –ó–∞—á–∏—Å—Ç–∏—Ç–µ –∫–æ–Ω—Ç–∞–∫—Ç—ã –æ—Ç –ø—ã–ª–∏.', true, NULL),

(3, 'no_power_no_power', '–ü—Ä–æ–±–ª–µ–º–∞ —Å –ø–∏—Ç–∞–Ω–∏–µ–º.

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–æ–∑–µ—Ç–∫—É. –û—Å–º–æ—Ç—Ä–∏—Ç–µ –∫–∞–±–µ–ª—å –Ω–∞ –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–∏—è.', true, NULL),

-- Problem: blade doesn't move
(3, 'blade_no_move', '–ü–æ–ª–æ—Ç–Ω–æ –Ω–µ –¥–≤–∏–∂–µ—Ç—Å—è.

–ü–æ–ª–æ—Ç–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ? –ó–∞–∂–∏–º –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω?', false, NULL),

(3, 'blade_no_move_blade_ok', '–ü–æ–ª–æ—Ç–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –º–µ—Ö–∞–Ω–∏–∑–º.

–û—Å–º–æ—Ç—Ä–∏—Ç–µ –∫—Ä–∏–≤–æ—à–∏–ø –∏ —à—Ç–æ–∫. –ó–∞–º–µ–Ω–∏—Ç–µ –ø–æ–≤—Ä–µ–∂–¥—ë–Ω–Ω—ã–µ –¥–µ—Ç–∞–ª–∏.', true, NULL),

(3, 'blade_no_move_blade_not_ok', '–ü—Ä–æ–±–ª–µ–º–∞ —Å —É—Å—Ç–∞–Ω–æ–≤–∫–æ–π –ø–æ–ª–æ—Ç–Ω–∞.

–û—Å–º–æ—Ç—Ä–∏—Ç–µ –∑–∞–∂–∏–º. –ü—Ä–∞–≤–∏–ª—å–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–æ–ª–æ—Ç–Ω–æ –ø–æ–¥—Ö–æ–¥—è—â–µ–≥–æ —Ç–∏–ø–∞.', true, NULL),

-- Problem: vibration or drift
(3, 'vibration_drift', '–í–∏–±—Ä–∞—Ü–∏—è –∏–ª–∏ —É–≤–æ–¥ –≤ —Å—Ç–æ—Ä–æ–Ω—É.

–ü–æ–ª–æ—Ç–Ω–æ –ø–æ–¥—Ö–æ–¥—è—â–µ–µ? –†–æ–ª–∏–∫–∏ –≤ –ø–æ—Ä—è–¥–∫–µ?', false, NULL),

(3, 'vibration_drift_blade_ok', '–ü–æ–ª–æ—Ç–Ω–æ –≤ –ø–æ—Ä—è–¥–∫–µ. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–æ–ª–∏–∫–∏.

–ó–∞–º–µ–Ω–∏—Ç–µ –∏–∑–Ω–æ—à–µ–Ω–Ω—ã–µ –Ω–∞–ø—Ä–∞–≤–ª—è—é—â–∏–µ —Ä–æ–ª–∏–∫–∏.', true, NULL),

(3, 'vibration_drift_blade_problem', '–ü–æ–ª–æ—Ç–Ω–æ –Ω–µ–ø–æ–¥—Ö–æ–¥—è—â–µ–µ.

–í—ã–±–µ—Ä–∏—Ç–µ –ø–æ–ª–æ—Ç–Ω–æ –ø–æ –º–∞—Ç–µ—Ä–∏–∞–ª—É –∏ —Ç–æ–ª—â–∏–Ω–µ. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ –ø–æ–ª–æ—Ç–Ω–æ.', true, NULL);

-- Insert interactive diagnostic steps for cordless drill
INSERT INTO fsm_steps (scenario_id, step_key, message, is_final, next_step_key) VALUES
-- Root state
(4, 'root', '–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –∞–∫–∫—É–º—É–ª—è—Ç–æ—Ä–Ω–æ–≥–æ —à—É—Ä—É–ø–æ–≤—ë—Ä—Ç–∞. –í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–±–ª–µ–º—É:', false, NULL),

-- Problem: not turning on
(4, 'no_power', '–£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –Ω–µ –≤–∫–ª—é—á–∞–µ—Ç—Å—è.

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –∞–∫–∫—É–º—É–ª—è—Ç–æ—Ä–∞. –ì–æ—Ä–∏—Ç –ª–∏ –æ–Ω?', false, NULL),

(4, 'no_power_indicator_lit', '–ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –≥–æ—Ä–∏—Ç. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–Ω–æ–ø–∫—É.

–†–∞–∑–±–µ—Ä–∏—Ç–µ –∏ –∑–∞—á–∏—Å—Ç–∏—Ç–µ –∫–æ–Ω—Ç–∞–∫—Ç—ã –∫–Ω–æ–ø–∫–∏ —Ä–µ–≤–µ—Ä—Å–∞.', true, NULL),

(4, 'no_power_indicator_dark', '–ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –Ω–µ –≥–æ—Ä–∏—Ç.

–ó–∞—Ä—è–¥–∏—Ç–µ –∞–∫–∫—É–º—É–ª—è—Ç–æ—Ä –∏–ª–∏ –∑–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –∑–∞—Ä—è–∂–µ–Ω–Ω—ã–π.', true, NULL),

-- Problem: spins but no torque
(4, 'spins_no_torque', '–í—Ä–∞—â–∞–µ—Ç—Å—è, –Ω–æ –Ω–µ –∫—Ä—É—Ç–∏—Ç.

–ú—É—Ñ—Ç–∞ –º–æ–º–µ–Ω—Ç–∞ —Å—Ä–∞–±–æ—Ç–∞–ª–∞? –ö–æ–ª—å—Ü–æ —Å—Ç–æ–∏—Ç –Ω–∞ –≤—ã—Å–æ–∫–æ–π —Ü–∏—Ñ—Ä–µ?', false, NULL),

(4, 'spins_no_torque_clutch_ok', '–ú—É—Ñ—Ç–∞ –≤ –ø–æ—Ä—è–¥–∫–µ. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–µ–¥—É–∫—Ç–æ—Ä.

–†–∞–∑–±–µ—Ä–∏—Ç–µ —Ä–µ–¥—É–∫—Ç–æ—Ä. –ó–∞–º–µ–Ω–∏—Ç–µ –∏–∑–Ω–æ—à–µ–Ω–Ω—ã–µ —à–µ—Å—Ç–µ—Ä–Ω–∏.', true, NULL),

(4, 'spins_no_torque_clutch_triggered', '–ú—É—Ñ—Ç–∞ —Å—Ä–∞–±–æ—Ç–∞–ª–∞.

–£–≤–µ–ª–∏—á—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫—É –º–æ–º–µ–Ω—Ç–∞ –Ω–∞ –∫–æ–ª—å—Ü–µ —Ä–µ–≥—É–ª—è—Ç–æ—Ä–∞.', true, NULL),

-- Problem: battery drains quickly
(4, 'battery_drains', '–ê–∫–∫—É–º—É–ª—è—Ç–æ—Ä –±—ã—Å—Ç—Ä–æ —Å–∞–¥–∏—Ç—Å—è.

–ê–∫–∫—É–º—É–ª—è—Ç–æ—Ä —Å—Ç–∞—Ä—ã–π? –î–æ–ª–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è?', false, NULL),

(4, 'battery_drains_old', '–ê–∫–∫—É–º—É–ª—è—Ç–æ—Ä –∏–∑–Ω–æ—à–µ–Ω.

–ó–∞–º–µ–Ω–∏—Ç–µ –∞–∫–∫—É–º—É–ª—è—Ç–æ—Ä –Ω–∞ –Ω–æ–≤—ã–π –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π.', true, NULL),

(4, 'battery_drains_new', '–ê–∫–∫—É–º—É–ª—è—Ç–æ—Ä –Ω–æ–≤—ã–π. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–ª–∞—Ç—É BMS.

–í–æ–∑–º–æ–∂–Ω–æ, –Ω–µ–∏—Å–ø—Ä–∞–≤–Ω–æ—Å—Ç—å —Å–∏—Å—Ç–µ–º—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è. –û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –≤ —Å–µ—Ä–≤–∏—Å.', true, NULL);

-- Insert interactive diagnostic steps for corded lawnmower
INSERT INTO fsm_steps (scenario_id, step_key, message, is_final, next_step_key) VALUES
-- Root state
(5, 'root', '–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–≤–æ–¥–Ω–æ–π –≥–∞–∑–æ–Ω–æ–∫–æ—Å–∏–ª–∫–∏. –í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–±–ª–µ–º—É:', false, NULL),

-- Problem: not turning on
(5, 'no_power', '–£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –Ω–µ –≤–∫–ª—é—á–∞–µ—Ç—Å—è.

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–µ—Ç–∏. –†–æ–∑–µ—Ç–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç?', false, NULL),

(5, 'no_power_power_ok', '–ü–∏—Ç–∞–Ω–∏–µ –≤ –ø–æ—Ä—è–¥–∫–µ. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–µ—Ä–º–æ–∑–∞—â–∏—Ç—É.

–î–∞–π—Ç–µ –æ—Å—Ç—ã—Ç—å 20-30 –º–∏–Ω—É—Ç. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É —Å–±—Ä–æ—Å–∞ –ø—Ä–µ–¥–æ—Ö—Ä–∞–Ω–∏—Ç–µ–ª—è.', true, NULL),

(5, 'no_power_no_power', '–ü—Ä–æ–±–ª–µ–º–∞ —Å –ø–∏—Ç–∞–Ω–∏–µ–º.

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–æ–∑–µ—Ç–∫—É –∏ –∫–∞–±–µ–ª—å. –ó–∞–º–µ–Ω–∏—Ç–µ –ø–æ–≤—Ä–µ–∂–¥—ë–Ω–Ω—ã–π –∫–∞–±–µ–ª—å.', true, NULL),

-- Problem: motor runs but blade doesn't spin
(5, 'motor_runs_no_blade', '–ú–æ—Ç–æ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ –Ω–æ–∂ –Ω–µ –≤—Ä–∞—â–∞–µ—Ç—Å—è.

–û—Å–º–æ—Ç—Ä–∏—Ç–µ –Ω–æ–∂. –ù–µ—Ç –ª–∏ –ø–æ—Å—Ç–æ—Ä–æ–Ω–Ω–∏—Ö –ø—Ä–µ–¥–º–µ—Ç–æ–≤?', false, NULL),

(5, 'motor_runs_no_blade_clear', '–ù–æ–∂ —á–∏—Å—Ç—ã–π. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–µ–º–µ–Ω—å.

–û—Å–º–æ—Ç—Ä–∏—Ç–µ —Ä–µ–º–µ–Ω—å –ø—Ä–∏–≤–æ–¥–∞. –ó–∞–º–µ–Ω–∏—Ç–µ –ø–æ–≤—Ä–µ–∂–¥—ë–Ω–Ω—ã–π —Ä–µ–º–µ–Ω—å.', true, NULL),

(5, 'motor_runs_no_blade_blocked', '–ù–æ–∂ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω.

–û—á–∏—Å—Ç–∏—Ç–µ –Ω–æ–∂ –∏ –∑–∞—â–∏—Ç–Ω—ã–π –∫–æ–∂—É—Ö –æ—Ç —Ç—Ä–∞–≤—ã –∏ –ø–æ—Å—Ç–æ—Ä–æ–Ω–Ω–∏—Ö –ø—Ä–µ–¥–º–µ—Ç–æ–≤.', true, NULL),

-- Problem: uneven cut or vibration
(5, 'uneven_vibration', '–ù–µ—Ä–æ–≤–Ω—ã–π —Å—Ä–µ–∑ –∏–ª–∏ –≤–∏–±—Ä–∞—Ü–∏—è.

–ö–æ–ª—ë—Å–∞ –Ω–∞ –æ–¥–∏–Ω–∞–∫–æ–≤–æ–π –≤—ã—Å–æ—Ç–µ? –ù–æ–∂ —Ü–µ–ª—ã–π?', false, NULL),

(5, 'uneven_vibration_wheels_ok', '–ö–æ–ª—ë—Å–∞ –≤ –ø–æ—Ä—è–¥–∫–µ. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–æ–∂.

–ó–∞—Ç–æ—á–∏—Ç–µ –∏–ª–∏ –∑–∞–º–µ–Ω–∏—Ç–µ —Ç—É–ø–æ–π/–ø–æ–≤—Ä–µ–∂–¥—ë–Ω–Ω—ã–π –Ω–æ–∂.', true, NULL),

(5, 'uneven_vibration_wheels_not_level', '–ö–æ–ª—ë—Å–∞ –Ω–∞ —Ä–∞–∑–Ω–æ–π –≤—ã—Å–æ—Ç–µ.

–û—Ç—Ä–µ–≥—É–ª–∏—Ä—É–π—Ç–µ –≤—ã—Å–æ—Ç—É –≤—Å–µ—Ö –∫–æ–ª—ë—Å –æ–¥–∏–Ω–∞–∫–æ–≤–æ.', true, NULL);
