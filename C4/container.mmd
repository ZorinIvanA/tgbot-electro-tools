C4Container
    title Контейнерная диаграмма (Уровень 2): Компоненты развёртывания

    ContainerDb(БазаДанных, "PostgreSQL", "База данных", "Хранит пользователей, сессии FSM (finite-state machine), динамические сценарии, настройки")
    Container(GoПриложение, "Go Backend", "Go 1.25", "Основное приложение бота, обрабатывает логику, API и интеграции")
    Container_Boundary(c1, "Docker Container") {
        Container(TelegramAPI, "Telegram Bot API", "Внешний HTTP API", "Принимает и отправляет сообщения, управление ботом")
        Container(BothubAPI, "Bothub API", "Внешний HTTP API (openai-совместимый)", "Обработка естественного языка (NLU)")
    }

    System_Ext(CI_CD, "Azure DevOps", "CI/CD система", "Сборка, тестирование и развёртывание контейнера")

    Rel(GoПриложение, БазаДанных, "Читает/записывает данные", "TCP/pq")
    Rel(GoПриложение, TelegramAPI, "Отправляет запросы (sendMessage, getUpdates)", "HTTPS/Long Polling")
    Rel_Back(TelegramAPI, GoПриложение, "Передаёт обновления (updates)", "HTTPS/Long Polling")
    Rel(GoПриложение, BothubAPI, "Запрос анализа намерения (intent)", "HTTPS (опционально)")
    Rel(CI_CD, GoПриложение, "Собирает и развёртывает", "Docker")

    UpdateRelStyle(GoПриложение, BothubAPI, $offsetY="20", $offsetX="-30")